<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Al4nin-commits] r368 - trunk/purgatory
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/al4nin-commits/2007-June/index.html" >
   <LINK REL="made" HREF="mailto:al4nin-commits%40lists.berlios.de?Subject=Re%3A%20%5BAl4nin-commits%5D%20r368%20-%20trunk/purgatory&In-Reply-To=%3C200706121129.l5CBTjNY028124%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000129.html">
   <LINK REL="Next"  HREF="000131.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Al4nin-commits] r368 - trunk/purgatory</H1>
    <B>heisenbug at BerliOS</B> 
    <A HREF="mailto:al4nin-commits%40lists.berlios.de?Subject=Re%3A%20%5BAl4nin-commits%5D%20r368%20-%20trunk/purgatory&In-Reply-To=%3C200706121129.l5CBTjNY028124%40sheep.berlios.de%3E"
       TITLE="[Al4nin-commits] r368 - trunk/purgatory">heisenbug at mail.berlios.de
       </A><BR>
    <I>Tue Jun 12 13:29:45 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000129.html">[Al4nin-commits] r367 - trunk/purgatory
</A></li>
        <LI>Next message: <A HREF="000131.html">[Al4nin-commits] r369 - trunk/purgatory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#130">[ date ]</a>
              <a href="thread.html#130">[ thread ]</a>
              <a href="subject.html#130">[ subject ]</a>
              <a href="author.html#130">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: heisenbug
Date: 2007-06-12 13:29:45 +0200 (Tue, 12 Jun 2007)
New Revision: 368

Modified:
   trunk/purgatory/Thrist.omg
Log:
converted to Omega1.4.2 syntax. still problematic with Rows

Modified: trunk/purgatory/Thrist.omg
===================================================================
--- trunk/purgatory/Thrist.omg	2007-06-01 13:59:12 UTC (rev 367)
+++ trunk/purgatory/Thrist.omg	2007-06-12 11:29:45 UTC (rev 368)
@@ -79,17 +79,17 @@
 
 {- Example session:
 
-prompt&gt; #[]l
- #[]l : forall (a:*1) (b:a ~&gt; a ~&gt; *0) (c:a:*1).Thrist b c c
-prompt&gt; #[ToWi]l
- #[ToWi]l : forall (a:Doe).Thrist DooBiDoo a Wi
-prompt&gt; #[ToWi,WiToWi]l
- #[ToWi,WiToWi]l : forall (a:Doe).Thrist DooBiDoo a Wi
-prompt&gt; #[ToWi,WiToWi,ToSo]l
- #[ToWi,WiToWi,ToSo]l : forall (a:Doe).Thrist DooBiDoo a So
-prompt&gt; #[ToWi,WiToWi,ToSo,SoTo]l
- #[ToWi,WiToWi,ToSo,SoTo]l : forall (a:Doe) (b:Doe).Thrist DooBiDoo a b
-prompt&gt; #[ToWi, WiTo]l
+prompt&gt; []l
+ []l : forall (a:*1) (b:a ~&gt; a ~&gt; *0) (c:a:*1).Thrist b c c
+prompt&gt; [ToWi]l
+ [ToWi]l : forall (a:Doe).Thrist DooBiDoo a Wi
+prompt&gt; [ToWi,WiToWi]l
+ [ToWi,WiToWi]l : forall (a:Doe).Thrist DooBiDoo a Wi
+prompt&gt; [ToWi,WiToWi,ToSo]l
+ [ToWi,WiToWi,ToSo]l : forall (a:Doe).Thrist DooBiDoo a So
+prompt&gt; [ToWi,WiToWi,ToSo,SoTo]l
+ [ToWi,WiToWi,ToSo,SoTo]l : forall (a:Doe) (b:Doe).Thrist DooBiDoo a b
+prompt&gt; [ToWi, WiTo]l
  In the expression: Cons WiTo Nil
  the result type: Thrist ShuBiDoo Wi b
  was not what was expected: Thrist DooBiDoo Wi a
@@ -97,7 +97,7 @@
 -}
 
 ##test &quot;different constants: ShubiDoo   !=   DooBiDoo&quot;
- fail0 = #[ToWi, WiTo]l
+ fail0 = [ToWi, WiTo]l
 
 cat :: Thrist DooBiDoo a b -&gt; String
 cat Nil = &quot;&quot;
@@ -124,11 +124,11 @@
 {range Z a} = a
 
 countArr :: *0 ~&gt; Nat
-{countArr Int} = #0
-{countArr Bool} = #0
-{countArr Char} = #0
-{countArr (a, b)} = #0
-{countArr [a]} = #0
+{countArr Int} = 0t
+{countArr Bool} = 0t
+{countArr Char} = 0t
+{countArr (a, b)} = 0t
+{countArr [a]} = 0t
 {countArr (a-&gt;b)} = S {countArr b}
 
 data Tractable :: * ~&gt; * where
@@ -182,9 +182,9 @@
  deriving List(st)
   
 tc0 = (let a = Opaque in (CatTractable a (Ontop IntTractable a))) :: Tractable (Cat a (RCons Int a))
-tc1 = #[Push tc0 (Push IntTractable 42)]l
-tc2 = #[Push tc0 (Push IntTractable 42), Eval]l
-tc3 = #[Push tc0 (Push IntTractable 42), Eval, Print]l
+tc1 = [Push tc0 (Push IntTractable 42)]l
+tc2 = [Push tc0 (Push IntTractable 42), Eval]l
+tc3 = [Push tc0 (Push IntTractable 42), Eval, Print]l
 
 strTract = ListTractable CharTractable
 
@@ -198,8 +198,8 @@
 
 pop = PopN #1
 
-te1 = #[Push IntTractable 42, Dup, Greater, If #[pop, Push strTract &quot;hh&quot;]l #[Push IntTractable 42, add, Print, Push strTract &quot;hh&quot;]l]l
---te1a = #[Push IntTractable 42, Dup, gt, If #[pop, Push strTract &quot;hh&quot;]l #[Push IntTractable 42, add, Print, Push strTract &quot;hh&quot;]l]l
+te1 = [Push IntTractable 42, Dup, Greater, If [pop, Push strTract &quot;hh&quot;]l [Push IntTractable 42, add, Print, Push strTract &quot;hh&quot;]l]l
+--te1a = [Push IntTractable 42, Dup, gt, If [pop, Push strTract &quot;hh&quot;]l [Push IntTractable 42, add, Print, Push strTract &quot;hh&quot;]l]l
 
 {- This needs more magic:
 showThrist :: (t a b -&gt; String) -&gt; Thrist t a b -&gt; String
@@ -309,13 +309,13 @@
 pushC = Push CharTractable
 pushStr = Push (ListTractable CharTractable)
 
-te3 = interpretCat #[pushI 23, pop]l
-te4 = interpretCat #[pushI 42, pushI 11, gt, If #[pushB True]l #[pushB False]l, Print]l
-te5 = interpretCat #[pushI 42, pushI 32, pushI 1, add, Swap, Print, Print]l
-te6 = interpretCat #[pushI 42, pushI 32, pushI 1, add, Swap, Print, Dup, PopN #2]l
-te7 = interpretCat #[pushStr &quot;Fun&quot;, Push (ArrTractable CharTractable IntTractable) ord, Prim (ArrTractable (ListTractable CharTractable) (ListTractable IntTractable)) Pmap map, Print]l
-te8 = interpretCat #[pushC 'Z', Prim IntTractable Pord ord, pushI 2, add, Print]l
-te9 = interpretCat #[pushI 42, Block #[Print]l, Eval]l
+te3 = interpretCat [pushI 23, pop]l
+te4 = interpretCat [pushI 42, pushI 11, gt, If [pushB True]l [pushB False]l, Print]l
+te5 = interpretCat [pushI 42, pushI 32, pushI 1, add, Swap, Print, Print]l
+te6 = interpretCat [pushI 42, pushI 32, pushI 1, add, Swap, Print, Dup, PopN #2]l
+te7 = interpretCat [pushStr &quot;Fun&quot;, Push (ArrTractable CharTractable IntTractable) ord, Prim (ArrTractable (ListTractable CharTractable) (ListTractable IntTractable)) Pmap map, Print]l
+te8 = interpretCat [pushC 'Z', Prim IntTractable Pord ord, pushI 2, add, Print]l
+te9 = interpretCat [pushI 42, Block [Print]l, Eval]l
 
 optimizeCat :: Thrist Cat a b -&gt; Thrist Cat a b
 optimizeCat (<A HREF="https://lists.berlios.de/mailman/listinfo/al4nin-commits">i at Cons</A> (If yes no) r) = optimizeIf i yes no r
@@ -353,8 +353,8 @@
 
 optimizeIf all _ _ _ = all
 
-to0 = optimizeCat #[If #[pushI 42]l #[pushI 42]l, Print]l
-to1 = optimizeCat #[If #[pushI 42]l #[pushI 43]l, Print]l
+to0 = optimizeCat [If [pushI 42]l [pushI 42]l, Print]l
+to1 = optimizeCat [If [pushI 42]l [pushI 43]l, Print]l
 
 
 ------------------------------------
@@ -379,8 +379,8 @@
  deriving List(s)
 
 --tp1 :: Sum Bool (Row a)
-tp0 = #[False, True]s
-tp1 = #[Nothing, Just]s
+tp0 = [False, True]s
+tp1 = [Nothing, Just]s
 -}
 
 ##test &quot;Mixup in Decs (not reported yet)&quot;
@@ -394,7 +394,7 @@
 --$ a-&gt;b, b-&gt;c into a thrist:
 
 --{
-funThrist = #[ord, (+) 2, chr]l
+funThrist = [ord, (+) 2, chr]l
 
 runThrist :: Thrist (-&gt;) a b -&gt; a -&gt; b
 runThrist Nil b = b
@@ -405,7 +405,7 @@
 -- Example session:
 
 prompt&gt; funThrist
- #[&lt;primfun to1&gt;,&lt;fn&gt;,&lt;primfun to1&gt;]l : Thrist (-&gt;) Char Char
+ [&lt;primfun to1&gt;,&lt;fn&gt;,&lt;primfun to1&gt;]l : Thrist (-&gt;) Char Char
 prompt&gt; runThrist funThrist
  &lt;fn&gt; : Char -&gt; Char
 prompt&gt; runThrist funThrist 'x'
@@ -418,8 +418,8 @@
 
 {-
 -- Example session:
-prompt&gt; #[(1, 'h'), ('u', &quot;ss&quot;)]l
- #[(1,'h'),('u',&quot;ss&quot;)]l : Thrist (,) Int [Char]
+prompt&gt; [(1, 'h'), ('u', &quot;ss&quot;)]l
+ [(1,'h'),('u',&quot;ss&quot;)]l : Thrist (,) Int [Char]
 -}
 
 -- Thrist (+)
@@ -427,7 +427,7 @@
 -- Thrist Bind
 {-
 -- Example session:
-prompt&gt; #[fuse 2 &quot;&quot;]l
+prompt&gt; [fuse 2 &quot;&quot;]l
 TODO###
 -}
 
@@ -475,7 +475,7 @@
 impliesZero :: Nat' n -&gt; Nat' m -&gt; Equal {plus n m} m -&gt; Equal m Z
 
 {-
-##test &quot;current refinement fails because _a != {plus #0 _a}&quot;
+##test &quot;current refinement fails because _a != {plus 0t _a}&quot;
  impliesZero Z m Eq = Eq --? Equal {plus Z m} m -&gt; Equal m Z
                         --&gt; Equal m m -&gt; Equal m Z
 -}
@@ -512,7 +512,7 @@
 -}
 
 ##test &quot;Does not work yet&quot;
- eqThrist = #[Eq :: Equal a (S b)
-           , Eq :: Equal (S b) (S c)
-           , Eq :: (S c) a
-           ]l
+ eqThrist = [Eq :: Equal a (S b)
+            , Eq :: Equal (S b) (S c)
+            , Eq :: (S c) a
+            ]l


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000129.html">[Al4nin-commits] r367 - trunk/purgatory
</A></li>
	<LI>Next message: <A HREF="000131.html">[Al4nin-commits] r369 - trunk/purgatory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#130">[ date ]</a>
              <a href="thread.html#130">[ thread ]</a>
              <a href="subject.html#130">[ subject ]</a>
              <a href="author.html#130">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/al4nin-commits">More information about the Al4nin-commits
mailing list</a><br>
</body></html>
